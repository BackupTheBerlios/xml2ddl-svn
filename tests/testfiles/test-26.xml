<test title="Rename a function">
<before>
    <schema>
        <function name="newfunc" oldname="myfunc" arguments="subtotal float" returns="float" dbms="postgres,mysql,oracle">
BEGIN
    RETURN subtotal * 0.06;
END
        </function>
        <function name="newfunc" oldname="myfunc" arguments="subtotal float" returns="float" dbms="firebird">
BEGIN
    ret = subtotal * 0.06;
END
        </function>
    </schema>
</before>
<after>
    <schema>
        <function name="newfunc" oldname="myfunc" arguments="subtotal float" returns="float" dbms="postgres,mysql,oracle">
BEGIN
    RETURN subtotal * 0.06;
END
        </function>
        <function name="newfunc" oldname="myfunc" arguments="subtotal float" returns="float" dbms="firebird">
BEGIN
    ret = subtotal * 0.06;
END
        </function>
    </schema>
</after>
<ddls dbms="postgres,postgres7">
    <ddl>DROP FUNCTION myfunc(float)</ddl>
    <ddl>CREATE FUNCTION newfunc(float) RETURNS float AS '
DECLARE
    subtotal ALIAS FOR $1;
BEGIN
    RETURN subtotal * 0.06;
END' LANGUAGE plpgsql</ddl>
</ddls>
<ddls dbms="mysql">
    <ddl>DROP FUNCTION myfunc</ddl>
    <ddl>CREATE FUNCTION newfunc(subtotal float) RETURNS float 
BEGIN
    RETURN subtotal * 0.06;
END</ddl>
</ddls>
<ddls dbms="firebird">
    <ddl>DROP PROCEDURE myfunc</ddl>
    <ddl>CREATE PROCEDURE newfunc(subtotal float) RETURNS (ret float) AS 
BEGIN
    RETURN subtotal * 0.06;
END;</ddl>
</ddls>
</test>
